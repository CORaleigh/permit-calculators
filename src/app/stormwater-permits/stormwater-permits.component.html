<mat-toolbar color="primary">
  <mat-toolbar-row>
    <img alt="seal" src="https://www.raleighnc.gov/content/static/images/City-Seal-BW.png" />
    <h3>City of Raleigh</h3>
  </mat-toolbar-row>
  <!-- <mat-toolbar-row>
    <span>Stormwater Device Fee Calculator</span>
  </mat-toolbar-row> -->
</mat-toolbar>


<mat-card>
  <mat-card-header>
    <mat-card-title>Stormwater Fee Calculator</mat-card-title>  
  </mat-card-header>
  <mat-card-content>
    <form>
       <div *ngFor="let fee of fees">
        <mat-list>
            <mat-selection-list >
                <mat-list-option checkboxPosition="before" (selectionChange)="listCheckBoxChanged($event, fee)" [selected]="fee.selected">
                  <div class="feeCheckLabel"><span class="feeLabel">{{fee.name}}   
                  </span> <span class="cost">{{fee.total| currency}}</span></div>
                </mat-list-option>
            </mat-selection-list>     
            <mat-list-item *ngIf="fee.selected">
                <mat-form-field *ngIf="fee.multiplier" matLine>
                    <span *ngIf="fee.units === 'Construction Cost'" matPrefix>$&nbsp;</span>
                    <input matInput type="number" min="0" max="9999999" matInput maxlength="7" [placeholder]="fee.units" [value]="fee.cost"
                      name="cost" (input)="calculateTotal($event, fee)">

                </mat-form-field> 
                <div matLine *ngIf="fee.note">{{fee.note}}</div>   
                <div matLine *ngIf="fee.minimum">*minimum fee of {{fee.minimum | currency}}</div>
                <div matLine *ngIf="fee.units === 'Acres'">*rounded to nearest 1/10 acre</div>                  
            </mat-list-item> 
      
          </mat-list>   
        </div>              
        <mat-selection-list >
            <mat-list-option checkboxPosition="before" *ngFor="let fee of checkBoxes" (selectionChange)="checkboxChanged($event, fee)">
              <div class="feeCheckLabel"><span class="feeLabel">{{fee.name}}</span> <span class="cost">{{fee.total| currency}}</span></div>
            </mat-list-option>
        </mat-selection-list>
    </form>
  </mat-card-content>
  <mat-card-actions>
      <mat-card-subtitle>Total Fee: {{total|currency}}</mat-card-subtitle>
    </mat-card-actions>  

</mat-card>
<h3 class="mat-subheading-2">More Information</h3>
<div class="links">
    <a mat-button href="https://www.raleighnc.gov/business/content/PlanDev/Articles/DevServ/StormwaterReplacementFund.html" target="_blank">Stormwater Device Fee</a>
    <a mat-button href="https://www.raleighnc.gov/content/extra/Books/PlanDev/DevelopmentFeeSchedule/14/" target="_blank">Development Fee Schedule</a>
</div>

