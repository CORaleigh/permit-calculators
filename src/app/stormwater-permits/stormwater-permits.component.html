<mat-card>
  <mat-card-header>
    <mat-card-title>Stormwater Fee Calculator</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Check all boxes that apply to your project
    <form>
      <div *ngFor="let fee of stormwaterService.fees">
        <mat-list>
          <mat-selection-list>
            <mat-list-option checkboxPosition="before" (selectionChange)="listCheckBoxChanged($event, fee)" [selected]="fee.selected">
              <div class="feeCheckLabel">
                <div class="feeLabel">{{fee.name}}
                  <a mat-icon-button *ngIf="fee.url" [href]="fee.url" target="_blank" (click)="$event.stopPropagation()">
                    <mat-icon>help_outline</mat-icon>
                  </a>
                </div>
                <div [ngStyle]="{'padding-top':fee.url ? '10px' : '' }" class="cost">{{fee.total| currency}}</div>
              </div>
            </mat-list-option>
          </mat-selection-list>

          <mat-list-item *ngIf="fee.selected">
            <mat-form-field *ngIf="fee.multiplier" matLine>
              <span *ngIf="fee.units === 'Construction Cost'" matPrefix>$&nbsp;</span>
              <input matInput type="number" min="0" max="9999999" matInput maxlength="7" [placeholder]="fee.units" [value]="fee.cost" name="cost"
                (input)="calculateTotal($event, fee)">

            </mat-form-field>
            <div matLine *ngIf="fee.note">{{fee.note}}</div>
            <div matLine *ngIf="fee.minimum">*minimum fee of {{fee.minimum | currency}}</div>
            <div matLine *ngIf="fee.units === 'Acres'">*rounded to nearest 1/10 acre</div>
          </mat-list-item>

        </mat-list>
      </div>
      <mat-selection-list>
        <mat-list-option checkboxPosition="before" *ngFor="let fee of stormwaterService.checkBoxes" (selectionChange)="checkboxChanged($event, fee)" [selected]="fee.selected">
          <div class="feeCheckLabel">
            <div class="feeLabel">{{fee.name}}
              <a mat-icon-button *ngIf="fee.url" [href]="fee.url" target="_blank" (click)="$event.stopPropagation()">
                <mat-icon>help_outline</mat-icon>
              </a>
            </div>
            <div [ngStyle]="{'padding-top':fee.url ? '10px' : '' }" class="cost">{{fee.total| currency}}</div>
          </div>
        </mat-list-option>
      </mat-selection-list>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <mat-card-subtitle>Total Fee: {{total|currency}}</mat-card-subtitle>
  </mat-card-actions>

</mat-card>
